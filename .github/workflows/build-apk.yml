name: Build AyuGram APK
on:
  push:
    branches: [main]
  workflow_dispatch:
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“¥ Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ ĞºĞ¾Ğ´
      uses: actions/checkout@v4
    - name: â˜• Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Java 17
      uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'temurin'
    - name: ğŸ”§ Ğ”ĞµĞ»Ğ°ĞµĞ¼ gradlew Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼Ñ‹Ğ¼
      run: chmod +x gradlew
    - name: ğŸ—ï¸ Ğ¡Ğ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ APK
      run: ./gradlew assembleDebug
    - name: ğŸ“¤ Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ APK
      uses: actions/upload-artifact@v4
      with:
        name: AyuGram-Debug-APK
        path: TMessagesProj/build/outputs/apk/debug/*.apk
